---
title: "グレースケール画像のうんちく"
source: "https://qiita.com/yoya/items/96c36b069e74398796f3"
author:
  - "[[yoya]]"
published: 2018-04-13
created: 2025-08-21
description: "グレースケール変換の前提知識から具体的な変換アルゴリズムまで解説します。 カラー画像を元に白黒印刷したい場合や、最近だと機械学習の物体認識で輝度だけ使いたい等、グレースケール化の機会は意外とよくあります。 OpenCV や ImageMagick 等のグラフィックエンジン..."
tags:
  - "clippings"
---
![](https://relay-dsp.ad-m.asia/dmp/sync/bizmatrix?pid=c3ed207b574cf11376&d=x18o8hduaj&uid=)

グレースケール変換の前提知識から具体的な変換アルゴリズムまで解説します。  
[![](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/f94d8ca7-9f72-5d26-9b3d-171d062a96dc.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Ff94d8ca7-9f72-5d26-9b3d-171d062a96dc.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=68c46b058349e051590bac5547e5c905)

カラー画像を元に白黒印刷したい場合や、最近だと機械学習の物体認識で輝度だけ使いたい等、グレースケール化の機会は意外とよくあります。  
OpenCV や ImageMagick 等のグラフィックエンジンを使えばお任せ変換できますが、それが具体的にどういう処理をして、どのような選択肢があるのか、知っておいて損はないでしょう。

実際に、OpenCV や ImageMagick でグレースケール変換をしたい方は、こちらを参考にどうぞ。

- [Python でグレースケール(grayscale)化](https://qiita.com/yoya/items/dba7c40b31f832e9bc2a)
- [ImageMagick のグレースケール変換](https://qiita.com/yoya/items/424abf0620a1ca37689c)

## グレースケールとは

画像を色味のない明るさの度合いだけで表現するのがグレースケールです。  
似た言葉にモノクロ画像がありますが、こちらは下のカラー以外3つを含む広い概念です。白と黒のどちらかだけで中間のグレーがないバイナリ画像を指す事もありますし、セピア調のように色味をつけたモノトーンかもしれません。

| カラー画像 | グレースケール画像 | バイナリ画像 | セピア調モノクロ画像 |
| --- | --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/3dcb483e-8a50-64c2-b411-0d6703050d2a.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F3dcb483e-8a50-64c2-b411-0d6703050d2a.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f5f3077517dd6bf87faf10ced02d7df5) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/2f5838b7-e20d-97ee-019f-dad1f8d0aec7.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F2f5838b7-e20d-97ee-019f-dad1f8d0aec7.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=83463149441340dbdc95d2d0f55bbdfe) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/a6f1f1f9-8bf8-347f-5329-9d90ff535f13.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fa6f1f1f9-8bf8-347f-5329-9d90ff535f13.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6dff83f822b4807e73e56ac2c37238bb) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/4a1d3e73-d8c6-471a-cd27-8d34b69e4d66.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F4a1d3e73-d8c6-471a-cd27-8d34b69e4d66.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=a003703e8c5c3003eb011b0807b83d90) |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/a64222d6-dbfd-a2d0-c21d-719ff97a9e50.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fa64222d6-dbfd-a2d0-c21d-719ff97a9e50.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=a699f513cbe8ac2330deb47993294ef3) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/072602f3-17d9-78fb-e1b0-ca9230eed5bb.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F072602f3-17d9-78fb-e1b0-ca9230eed5bb.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f40ed8fc77fc4de879ef38a80a21e6fc) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/a52cbecf-b0d8-ec8b-6eb5-944bd8d9f723.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fa52cbecf-b0d8-ec8b-6eb5-944bd8d9f723.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=3dfe1b179727b62691125c2cb97bf6ab) |

カラー画像は1つのピクセルの色を表すのに複数の値が必要で、R,G,Bの3つの値を用いる事が多いのですが、グレースケール画像だと１つのピクセルに1つです。  
その1つの値に、モニタだと Y(輝度、CIE XYZ の Y軸)、L(Luminance、輝度)、印刷では K(Key 又は blacK)、より抽象的には V(Value、色価)、Intensity(強度)、Gray-Level(グレイレベル、濃度値)といった文字や用語がよく用いられます。

| colourful pixel | grayscale pixel |
| --- | --- |
| [![4x4color.png](https://qiita-image-store.s3.amazonaws.com/0/1798/5d179043-c08e-e855-4eda-fc39ef37fe04.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F5d179043-c08e-e855-4eda-fc39ef37fe04.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=7b1e6e74cac06f5dcac2fc7b23cfe6ad) | [![4x4grayscale.png](https://qiita-image-store.s3.amazonaws.com/0/1798/79c1eafe-3f05-d3b4-a58e-4032cdc7c2e3.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F79c1eafe-3f05-d3b4-a58e-4032cdc7c2e3.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=de449777c2fdbe5921abdad2de57d09a) |
| (OpenCV の imshow 関数を使った表示) |  |

つまり(基本的な)グレースケール変換は、色成分RGB(又はCMYK等)が持つその複数の値から人の眼が感じる色の強さを推定して1つの値にまとめる作業と言えます。

## 前提知識

## R,G,B は同じ値でも見た目の明るさが違う

R,G,B は３つ同じ値で加色混合すると無彩色(黒〜グレー〜白)になるよう輝度がバランス調整されています。  
一番左は R=G=B=255 真ん中は R=G=B=187 で揃えてますが、大抵の人にはG(緑)が明るく R(赤)は暗く B(青)はとても暗く見えます。  
一番右のように、R,G,Bの値を同じにせず見た目の明るさで揃えて混ぜると青紫方向に色味がかります。

| R=G=B=255                                                                                                                                                                                                                                                                                                                            | R=G=B=187(sRGBで輝度半分相当)                                                                                                                                                                                                                                                                                                               | R:165,G:121,B:255(明るさを揃える)                                                                                                                                                                                                                                                                                                           |     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/954a02a8-6cf6-1dbe-5e57-3cedd70d6d41.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F954a02a8-6cf6-1dbe-5e57-3cedd70d6d41.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=e7cdf3a0cca3c42f59c6d5ad661f46b5) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/01f64ba3-6106-ea44-8501-33fffa39573b.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F01f64ba3-6106-ea44-8501-33fffa39573b.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=8d965d6c33195f78fa8aaba5ccdc6754) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/8b8d2fa8-122f-e402-b17f-a78f50629ed3.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F8b8d2fa8-122f-e402-b17f-a78f50629ed3.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=0621eafcfbda0c47c429bd4d0acd5472) |     |

色成分R,G,B毎の明るさ（輝度)の違いを考慮した良いグレースケール変換と、考慮しない悪いグレースケール変換を並べてみます。

| カラー画像 | 良いグレースケール (CIE XYZ) | 悪いグレースケール (RGB平均) |
| --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/134c6ec8-ff1d-3dc4-c09f-dd9982a7f74c.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F134c6ec8-ff1d-3dc4-c09f-dd9982a7f74c.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=1501ff9fff23daca648b2be610b88945) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/501e2f94-1cb6-0368-20d4-9de84d741173.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F501e2f94-1cb6-0368-20d4-9de84d741173.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=d94821db9e378e50ed02437126d72a7c) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/fd7a48c1-4974-14e9-0ef7-a6b158d37d71.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Ffd7a48c1-4974-14e9-0ef7-a6b158d37d71.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=19b038797d38a6dab4d9350d07c3bda2) |

この悪い方でも我慢できる事はあるので、性能優先で悪いグレースケールを使う事も多々あります。

## ガンマ補正で平均が歪む

一般的な画像ファイルに記録される RGB 値はピクセルの物理的な輝度と素直に比例しません。昔のブラウン管テレビが入力信号の電圧に対して出力する輝度が比例しなかったので、信号側で補正する事にしたそうです。あと、低輝度に敏感な視覚特性に都合がよい事も勘案したと思われます。

| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/cf69d5c8-6105-85ee-926a-ea01a3cb146f.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fcf69d5c8-6105-85ee-926a-ea01a3cb146f.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=9a5a42729477cdbb7b3294813482002d) |
| --- |
| (c) [https://ja.wikipedia.org/wiki/ガンマ値](https://ja.wikipedia.org/wiki/%E3%82%AC%E3%83%B3%E3%83%9E%E5%80%A4) |

このグラフで言うと、入力信号に対して CRT gamma 曲線のように輝度が下に沈み込む特性を想定して、RGB値の方を gamma correction の点線のように釣り上げる補正をします。すると、CRT では何も補正せずとも輝度リニアに表示するという理屈です。

| ガンマ補正のうんちく |
| --- |
| [![gammma_transfer.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/ae978465-03fb-5267-932a-effcf54bc137.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Fae978465-03fb-5267-932a-effcf54bc137.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6e512f0819758bdf7bea69b7ef649e1c) |
| [https://qiita.com/yoya/items/122b93970c190068c752](https://qiita.com/yoya/items/122b93970c190068c752) |

このガンマ補正された R,G,B の値のまま平均を計算すると、本物の輝度の平均にはなりません。  
以下の図は 1(最高輝度)と0(最低輝度)の真ん中の輝度を計算すると問題になる例です。

|  |
| --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b4d01075-353c-7bfd-4673-72d9afe9d2d4.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb4d01075-353c-7bfd-4673-72d9afe9d2d4.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=4fc6e09aea2c9c75ac6e604094e35010) |

このように、ガンマ補正を考慮せずにR,G,Bの輝度値の平均をとると、期待する輝度よりも暗くなります。

| カラー画像 | 嘘 CIE XYZ(ガンマ処理無し) | CIE XYZ(ガンマを考慮した版) |
| --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/134c6ec8-ff1d-3dc4-c09f-dd9982a7f74c.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F134c6ec8-ff1d-3dc4-c09f-dd9982a7f74c.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=1501ff9fff23daca648b2be610b88945) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/e80915ff-1067-0091-f7c6-55d844a8c2d6.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fe80915ff-1067-0091-f7c6-55d844a8c2d6.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=4e14a16e723e78714b5fa0a5b810792b) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/41b0209f-a064-960d-692d-07f92b8f1026.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F41b0209f-a064-960d-692d-07f92b8f1026.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=aebf915ce6e82308e26da67b27464fb7) |

この真中の図のように特に彩度が高い色に影響が現れます。以下のようにガンマ値解除の手続きをとる事で、右図のような結果に出来ます。

- R,G,B値にかかっているガンマ補正を外して、物理的な輝度と比例の関係にする (linear-RGB 化)
- やりたい輝度計算をする。(グレースケールだとR,G,Bを混ぜる計算)
- その後またガンマ補正をかけ直して元に戻す

ちなみに、グレースケール以外でも回転やリサイズ等の座標変換で補間処理がある時にも同じ事が言えます。

- [ImageMagick リサイズ補間アルゴリズム -colorspace RGB (ガンマ補正の考慮)](https://qiita.com/yoya/items/b1590de289b623f18639#-colorspace-rgb-%E3%82%AC%E3%83%B3%E3%83%9E%E8%A3%9C%E6%AD%A3%E3%81%AE%E8%80%83%E6%85%AE)

## 情報量が減る

例えば、純粋に R だけの画像、G だけの画像、B だけの画像で明るさが同じ場合、グレースケールだと区別が出来ない事からも分かると思いますが、グレースケール化すると情報量がだいぶ落ちます。  
精度的にも カラー画像が 24bit あるからと、そこから 8bit を超えるグレースケール画像を作る事は出来ません。画像形式的に 16bit で作ったとしても精度的に 上位 8bit 以外の bit はゴミなので無意味です。  
これはカラー画像 R,G,B に 8bit ずつ割り当てている為に、その時点で値が量子化(値を荒い精度で表現)されているからです。  
ただし、元の映像に対する前提や、結果画像ファイルの使い方の条件次第では、元の情報を多少なりとも保ったグレースケールが得られる可能性はあります。

## RGB からグレースケールへ変換

R,G,B 3つの値をどうやって 1つの値にまとめるのか。幾つか代表的な方法を紹介します。

## RGB平均

```text
V = (R + G + B) / 3.0
```

処理は単純ですが、前提知識で述べた２つの問題があって、実感と合わない結果になりがちです。

| 元画像 | 平均 |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/bcc06b1f-807e-18b2-06de-e58b24feafb3.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fbcc06b1f-807e-18b2-06de-e58b24feafb3.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=ab0f76e1d9284adf80ccddbaeeaf6a91) |

右下の緑とか論外ですね。^^;

### RGB平均 (ガンマ補正)

ガンマ補正を考慮した変換をしてみます。

```text
(R',G',B') = 逆ガンマ補正(R,G,B)
V' = (R' + G' + B') / 3.0
V = ガンマ補正(V')
```

| 元画像 | 逆ガンマ補正 | グレースケール変換 | ガンマ補正 |
| --- | --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/5be12db0-dfba-ed68-c6ad-1c24c9ab066f.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F5be12db0-dfba-ed68-c6ad-1c24c9ab066f.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=77f96aa558bbbd2c2fbead353bfcdca0) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/269b4a62-5cf5-fffa-ed02-e77c0f00fecd.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F269b4a62-5cf5-fffa-ed02-e77c0f00fecd.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=e04fd6ddb8ccea0dbca8998461822727) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/e2229421-45ae-6230-74f5-b741db5e4481.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fe2229421-45ae-6230-74f5-b741db5e4481.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=ab243b3a587507ae03fe8f874453dabc) |

これで大分よくなりますが、それでも色々と食い違っています。特に左下が明るすぎます。

## CIE XYZ の Y

CIE XYZ は人の眼の視覚特性を等色実験で調べて CIE(国際照明委員会)がまとめた規格で、RGB とは別の軸を持つ色空間です。  
XYZ 軸の Y 軸が輝度(明るさ)で、XとZは無輝面で RGB への変換で色味に影響します。

詳しくはこちらを参考にどうぞ

- XYZ色空間に迫る
	- [https://qiita.com/Ushio/items/203f16ad1e23fd42231c](https://qiita.com/Ushio/items/203f16ad1e23fd42231c)
	- [https://qiita.com/Ushio/items/7a5d80612796c4bcfca6](https://qiita.com/Ushio/items/7a5d80612796c4bcfca6)

この CIE XYZ を使った方法だと、sRGB にかかっているガンマ補正を考慮した上、更に R,G,B を足す際に重み付けをする(加重平均)事で、前提知識にある問題を2つとも解決します。

```text
(R',G',B') = 逆ガンマ補正(R,G,B)
V' = 0.2126*R' + 0.7152*G' + 0.0722*B'
V = ガンマ補正(V')
```

| 元画像 | 逆ガンマ補正 | グレースケール変換 | ガンマ補正 |
| --- | --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/5be12db0-dfba-ed68-c6ad-1c24c9ab066f.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F5be12db0-dfba-ed68-c6ad-1c24c9ab066f.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=77f96aa558bbbd2c2fbead353bfcdca0) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/8ad26206-d828-fda1-8807-72a2d6e871d7.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F8ad26206-d828-fda1-8807-72a2d6e871d7.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=83b759e512fea76c80cb69cd372e9d6a) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/4bf34ab1-7c88-e40d-3c95-e113d088b9a9.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F4bf34ab1-7c88-e40d-3c95-e113d088b9a9.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=14ae8c3669865802145b81fc711eeccb) |

人の眼の色の捉え方には個人差がありますが、おそらく多くの人はこのグレースケールに納得できるでしょう。  
また、カラーマネジメントの観点でも sRGB 以外の P3 や AdobeRGB 、ProPhoto といった色域やガンマ値が異なる色空間でも XYZ への変換は ICC プロファイルで定義されているので、適切な CMM(カラーマネジメントモジュール) を使えば輝度は楽に取得できます。

デジタル放送の BT.709 も同じ加重平均ですし、sRGB (Webで流通している画像の殆どがこれ)も同じなので、これが決定版だ！ …と言いたいところですが、そうとも言い切れないので記事の最後で少し解説しておきます。

## ITU-R Rec BT.601

```text
V = 0.299*R + 0.587*G + 0.114*B
```

CIE XYZ と並んでメジャーな計算式を持つ BT.601 は SDTV の規格です。  
ガンマ補正がかかったまま R,G,B を加重平均するので、今まで説明した通り微妙な結果になりますが、おそらく御家庭のテレビに複雑な処理をさせたくない都合でしょう。

CIE XYZ の Y のような色彩工学的に理想的な輝度ではない事から、Y を **相対輝度** 、ビデオ業界で多用されるこの独特な輝度を \*\*Luma(ルーマ)\*\*と表現して区別するようです。

- [https://en.wikipedia.org/wiki/Luma\_(video)](https://en.wikipedia.org/wiki/Luma_\(video\))

あと JPEG の YCbCr の Y を求める式としても有名です。

ガンマ補正をかけた場合と両方の結果を並べます。

| 元画像 | BT.601(ガンマ補正のまま) | BT.601（ガンマ補正解除して計算） |
| --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/48e1731a-ac04-8140-7c71-e70ca8ee0aa7.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F48e1731a-ac04-8140-7c71-e70ca8ee0aa7.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=ae97fb7000b24f0828a0aad3fdd7fc40) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/d9d9c534-5f57-1d81-d99f-136150e52be6.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fd9d9c534-5f57-1d81-d99f-136150e52be6.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=be5bcd4ed844e404fdb5f66ccbf46248) |

- ITU-R Rec BT.601
	- [https://www.itu.int/rec/R-REC-BT.601/en](https://www.itu.int/rec/R-REC-BT.601/en)

### 標準テレビジョン放送(デジタル放送を除く。)に関する送信の標準方式

```text
V = 0.30*R + 0.59G + 0.11*B
```

日本のアナログ放送の規格では、BT.601 より少し精度を落として定義されています。

| 元画像 | 日本のアナログ放送 |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b1084a68-de7e-96a9-d2f5-da346ffa9a97.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb1084a68-de7e-96a9-d2f5-da346ffa9a97.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=0b7c16a0a34e5d7d693ec81adc7e685c) |

- 標準テレビジョン放送(デジタル放送を除く。)に関する送信の標準方式
	- [http://www.tele.soumu.go.jp/horei/reiki\_honbun/a72ab21051.html](http://www.tele.soumu.go.jp/horei/reiki_honbun/a72ab21051.html)

### BT.601 係数を更に粗くする

更に係数の精度を落とす処理もたまに見かけます。

```text
V = 0.3*R + 0.6*G + 0.1*B
```

| 元画像 | BT.601(ガンマ補正のまま) | 粗い方 |
| --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/48e1731a-ac04-8140-7c71-e70ca8ee0aa7.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F48e1731a-ac04-8140-7c71-e70ca8ee0aa7.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=ae97fb7000b24f0828a0aad3fdd7fc40) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/7a9983e2-2d74-a414-0574-211973afeac8.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F7a9983e2-2d74-a414-0574-211973afeac8.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=5bfbe27ebd0dc368b852072a7e74b715) |

精度についてはこんな感じで一見して違いが分からなかったりします。  
あとこれもガンマ補正を解かず処理すると彩度の高い色ほど暗くなり、やはり良くない結果が出ます。

## ITU-R Rec BT.709

```text
V = 0.2126*R + 0.7152*G + 0.0722*B
```

BT.709 は HDTVの 規格です。これはガンマ補正を解除すれば CIE XYZ と同じ処理です。また、sRGB も BT.709 相当です。

| 元画像 | BT.709(ガンマ補正のまま) | BT.709(ガンマ補正を解除) |
| --- | --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/82eac9ac-16cd-ae14-2780-77958646b8de.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F82eac9ac-16cd-ae14-2780-77958646b8de.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=a69702fe07dafd33f487eacb5e4f7894) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/d0667c6f-9616-84bc-fce7-1454137cfdaf.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fd0667c6f-9616-84bc-fce7-1454137cfdaf.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=a289026871aee88804cdc2a001e5251d) |

- ITU-R Rec BT.709
	- [https://www.itu.int/rec/R-REC-BT.709/en](https://www.itu.int/rec/R-REC-BT.709/en)

### 標準テレビジョン放送等のうちデジタル放送に関する送信の標準方式

日本のデジタル放送の規格は BT.709 と同じ係数の計算式で精度も同じなので説明を省きます。

- 標準テレビジョン放送等のうちデジタル放送に関する送信の標準方式
	- [http://www.tele.soumu.go.jp/horei/reiki\_honbun/72ab2104001.html](http://www.tele.soumu.go.jp/horei/reiki_honbun/72ab2104001.html)

## YCgCo の Y

```text
V = R/4 + G/2 + B/4
```

YCgCo 色空間で使われる輝度(Y)の計算式です。  
単純な計算ながらも G を強めに反映する事で、RGB平均よりは良い結果が期待できます。  
ビット演算が使えるのも強みです。

```text
V = (R>>2) + (G>>1) + (B>>2) 
  = (((R + B)>>1) + G)>>1
```

| 元画像 | YCgCo |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/88f521b9-04e3-0a45-9730-9ce5af9565e4.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F88f521b9-04e3-0a45-9730-9ce5af9565e4.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=21aea5ccfe0861ad0006194f43250f93) |

YCgCo は動画圧縮の都合が優先で、人の視覚特性にあまり合っていないので、グレースケール化に使うことはあまりないですが、ビット演算で多少速度が稼げるのと計算誤差が把握しやすいメリットに対して一考の余地があります。

## HSV の V (RGB の最大)

```text
V = max(R,G,B)
```

R,G,B の一番明るい輝度を使います。これまで列挙した中では一番ハズレの方式かもしれません。  
ただ、例えばイラスト画像等で色の使い方が独特な場合などで、都合の良い事もあります。

- 実例)

| 元画像 | HSV |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/25d9c1a6-c5a4-d067-5a52-1b1cdde068c9.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F25d9c1a6-c5a4-d067-5a52-1b1cdde068c9.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=db3f804cced35fcac3d4a0cb7dea8dfc) |

## HSL の L (RGB の最大と最小の中間)

```text
V = (max(R,G,B) + min(R,G,B)) / 2
```

こちらも HSV 同様、特殊な状況でたまに使う事があります。

| 元画像 | HSL |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/931db1c8-d7c3-1518-05f4-1baad4cc8be3.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F931db1c8-d7c3-1518-05f4-1baad4cc8be3.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=014e3464e1d880c10da2a2308a329503) |

## Gチャンネルonly

```text
V = G
```

どうせ R,G,B のうち G の輝度が圧倒的(6割)なので、G だけで良いのでは？という方法です。

| 元画像 | G |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/8cb4e0ca-fa25-9606-52ef-a3fb1f86d136.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F8cb4e0ca-fa25-9606-52ef-a3fb1f86d136.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=7cee541a33f811d720e54aa6b054abfc) |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/3dcb483e-8a50-64c2-b411-0d6703050d2a.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F3dcb483e-8a50-64c2-b411-0d6703050d2a.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f5f3077517dd6bf87faf10ced02d7df5) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/3a728d80-fa20-9f6a-2b0f-7df7812e257c.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F3a728d80-fa20-9f6a-2b0f-7df7812e257c.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f45b34688ba60b48353f550d99430195) |

The・雑という感じですが。画像によってはあまり違和感がないです。  
あと、人の目は暗がりだと緑に近い色がよく見えるので、夜間をイメージする画像としても良いかもしれません。(プルキンエ現象)  
参考) [https://qiita.com/yoya/items/96c36b069e74398796f3#comment-55b8dd0c13f313b8d708](https://qiita.com/yoya/items/96c36b069e74398796f3#comment-55b8dd0c13f313b8d708)

## Bチャンネルonly (特殊用途)

```text
V = B
```

先ほどは G チャネルで。今度はB チャネルです。  
見ての通り、一般的なグレースケール変換としては全然駄目です。

| 元画像 | B |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/098838c1-c520-992b-aeff-83229f45a564.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F098838c1-c520-992b-aeff-83229f45a564.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=b2e07d5da1c5c0321e020a73f7d3d0fe) |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/3dcb483e-8a50-64c2-b411-0d6703050d2a.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F3dcb483e-8a50-64c2-b411-0d6703050d2a.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f5f3077517dd6bf87faf10ced02d7df5) | [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/c598021a-f463-7379-0d1f-d3090b1e77c2.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Fc598021a-f463-7379-0d1f-d3090b1e77c2.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=920d4a93f1184682927353d404ec0170) |

ただモニタのテストといった使い道もあるようです。  
YUV(YCbCr)として見た場合、人の眼は色味より輝度(Y)成分のノイズに敏感である事に注目すると、Y に対して RGB におよそ 3:6:1 〜 2:7:1 位の割合で振り分けられるので、B の値を R G に割り振りグレースケールとして使うと、ノイズが知覚的に10倍ちかく増やせる事もあり、視認が楽になります。

情報感謝！ > [@toru\_ver15](https://qiita.com/toru_ver15 "toru_ver15")

## 中央値 (実験)

R,G,B の中央値を使う方法です。これはただの思いつきの実験です。実際に使う事はないでしょう。

```text
V = [R,G,B].sort()[1] // Median
```

| 元画像 | Median |
| --- | --- |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/b798a33f-4b25-eabc-61e2-ff155ffa8698.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2Fb798a33f-4b25-eabc-61e2-ff155ffa8698.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6fa64ef6dac66e1aedcdb70ae9298032) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/1992b804-00fd-899d-8c26-c88da719367d.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F1992b804-00fd-899d-8c26-c88da719367d.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=6a1418a7a91be0e3d885ed6aef34c312) |
| [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/3dcb483e-8a50-64c2-b411-0d6703050d2a.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F3dcb483e-8a50-64c2-b411-0d6703050d2a.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f5f3077517dd6bf87faf10ced02d7df5) | [![image.png](https://qiita-image-store.s3.amazonaws.com/0/1798/71c1c4f3-0ea7-14bb-62cd-5a0a4a108458.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F1798%2F71c1c4f3-0ea7-14bb-62cd-5a0a4a108458.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f99772aaccc5a9ef14c5056b58f46abf) |

駄目だこりゃ。。(;’ε‘)

## マニュアル調整

グレースケール化すると色情報がなくなるので、見た目のコントラストはどうしても下がります。  
それに対して、マニュアル調整で対処する事があります。

## レベル補正

| 元画像 | ヒストグラム | グレースケール |
| --- | --- | --- |
| [![Balloon.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/04d3e028-4856-3a19-b64e-3dc4c419c6c4.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F04d3e028-4856-3a19-b64e-3dc4c419c6c4.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=41c61c52fb1a383ab8f653a462eb3981) | [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/c0a16604-9413-2142-37c5-f5ecc1021a9b.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Fc0a16604-9413-2142-37c5-f5ecc1021a9b.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=1055653ed30c1de47e8687c424fe2bbf) | [![gray.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/55cceb93-38d4-bb49-46ff-1b1fc023a7bf.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F55cceb93-38d4-bb49-46ff-1b1fc023a7bf.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=f8796391c6cc5e10fccfbaf0bd646088) |

予め画像のコントラストを引き上げる事で、グレースケール画像が引き締まって見えます。

| レベル補正 | ヒストグラム | 補正済みグレースケール |
| --- | --- | --- |
| [![ダウンロード (2).png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/53d1eeb0-a6d9-a241-e5c5-1c8ae745c0f5.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F53d1eeb0-a6d9-a241-e5c5-1c8ae745c0f5.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=15dbde01f0c025425c8c0e12d487edee) | [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/7711631e-c8ae-5317-d041-1acb0ec2185a.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F7711631e-c8ae-5317-d041-1acb0ec2185a.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=b1d39f769b12e36e5ec1a162015b4fa8) | [![ダウンロード (4).png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/9f4c519f-a072-1140-c605-e2e03c52420e.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F9f4c519f-a072-1140-c605-e2e03c52420e.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=54df33dff010fc9cffc87c1e730a071c) |

レベル補正 - コントラスト補正については以下の記事が参考になると思います

- ImageMagick でコントラスト補正
	- [https://qiita.com/yoya/items/1da8e8e04881bab67015](https://qiita.com/yoya/items/1da8e8e04881bab67015)

## カラーバランス

被写体に合わせて、R,G,B の係数を変えると見た目の良いグレースケールが得られます。  
Adobe Photoshop だとチャンネルミキサーのカラーバランスで調整できます。  
SB Creative の 「Photoshop 10年使える逆引き手帖」初版第1刷 p195 から、実際のケースを引用します。

- 新緑の緑 - 緑を極端に強調します。

```text
V = -0.1*R + 1.20*G + -0.1*B
```

- 自然の風景 - 少し緑多め

```text
V = 0.2*R + 0.7*G + 0.1*B
```

- ポートレート (人肌の多い画像) 赤味を強調します。青はゼロです。

```text
V = 0.75*R + 0.25*G + 0*B
```

- ノイズ感のある画像 - 青を強調

```text
V = 0.3*R + 0*G + 0.7*B
```

要するに R,G,B のうち、特に見せたい色を強調してコントラストを上げる戦略です。

## 高度なグレースケール変換

## Contrast Preserving Decolorization

こちらの論文で提案された、コントラストをなるべく維持する手法です。

- [http://www.cse.cuhk.edu.hk/~leojia/projects/color2gray/](http://www.cse.cuhk.edu.hk/~leojia/projects/color2gray/) ([decolorization\_iccp12.pdf](http://jiaya.me/archive/papers/decolorization_iccp12.pdf))

今までの方法だと R G B を決まった係数で混ぜますが、それだと都合の悪い事があります。

| 元画像 | BT.601 係数で足すだけ | BT.601 係数+ガンマ処理 |
| --- | --- | --- |
| [![mandrill.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/1e44b57e-8240-c34f-b85b-320d0b73df51.jpeg)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F1e44b57e-8240-c34f-b85b-320d0b73df51.jpeg?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=aa3a677e5eadde526997ca71f425b8a0) | [![gray.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/15e7fd78-2807-ec01-309b-5dd4dc726211.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F15e7fd78-2807-ec01-309b-5dd4dc726211.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=82e81b3ff79d6972dd928068db666555) | [![gray_gamma.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/d5e7aaa5-87a3-631b-d609-798a63e1a878.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Fd5e7aaa5-87a3-631b-d609-798a63e1a878.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=074cb460b13ec0d76ff2182cb9901f5f) |

BT.601係数処理+ガンマ処理の方が色の明るさ的には正しいのに、結果としてコントラスト(明暗の差)による境界がわかりにくく、BT.601係数で足すだけの方が画像の印象が良い。といったケースもありえます。

Contrast Preserving Decolorization の手法は、各色の正確な明るさよりも隣り合うピクセル間での輝度&色差コントラスト(Lab空間の距離)維持を優先します。

OpenCV は以下のコードで、この Decolor アルゴリズムを利用出来ます。

```python
import cv2
_, infile, outfile = sys.argv
img = cv2.imread(infile)
img_gray, _ = cv2.decolor(img);
cv2.imwrite(outfile, img_gray)
```

| 元画像 | decolor |
| --- | --- |
| [![mandrill.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/1e44b57e-8240-c34f-b85b-320d0b73df51.jpeg)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F1e44b57e-8240-c34f-b85b-320d0b73df51.jpeg?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=aa3a677e5eadde526997ca71f425b8a0) | [![decolor.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/3af2f93f-28cb-73ed-3528-79247529194b.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F3af2f93f-28cb-73ed-3528-79247529194b.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=028765474f39a4d8e0b88e49efe97431) |

水色で明るいグレースケールを使ってしまっているので、赤を黒とする事で、その差を際立たせています。

## Salience-Preserving Color Removal

特徴が残るように色を消す手法だそうです。  
色の本来の明るさをある程度犠牲にして、色による差をなるべく情報として残す点では Contrast Preserving Decolorization と同じです。

- [http://users.cs.northwestern.edu/~ago820/color2gray/](http://users.cs.northwestern.edu/~ago820/color2gray/)

SIGGRAPH2005 での発表スライドから図を抜粋すると、

- [http://users.cs.northwestern.edu/~ago820/color2gray/Presentations/Gooch\_Color2Grey.ppt](http://users.cs.northwestern.edu/~ago820/color2gray/Presentations/Gooch_Color2Grey.ppt)

既存の方法だと、3次元の色空間を決まった軸にマッピングするに過ぎません。

| (page 8) Simple Linear Mapping |
| --- |
| [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/cda265fc-e08e-242a-8d9c-5f878fff17e0.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Fcda265fc-e08e-242a-8d9c-5f878fff17e0.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=945467645c01e3396c7ffe9e419e9d3e) |

PCA で軸を探してそこにマッピングすると一見良さそうですが、

| (page 9) Principal Component Analysis (PCA) |
| --- |
| [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/131072ed-ad2e-6329-c7be-4ea772ddb82e.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F131072ed-ad2e-6329-c7be-4ea772ddb82e.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=66daaed171a499a5a4af41ebe1ea4eb0) |

同じ輝度で色相環上に配置するケースが苦手なので、

| (page 10) | Problem with PCA |
| --- | --- |
| Worst case:   Isoluminant Colorwheel   [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/96fa054b-d319-d11b-9968-844d164d8de8.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F96fa054b-d319-d11b-9968-844d164d8de8.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=3f194774171d70f79fa03fc71255ba69) | [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/f923a058-b38a-bb9a-0321-15ac4ef76bed.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Ff923a058-b38a-bb9a-0321-15ac4ef76bed.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=cf3e24751ea488e681e2c20d067e1dd1) |

| (page 11) Non-linear mapping |
| --- |
| [![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/0f075b35-7123-b45a-c7b4-af1560cf1e66.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F0f075b35-7123-b45a-c7b4-af1560cf1e66.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=e545e3af9c1bd733f81c25fd88ca0389) |

一本の直線の軸にまとめるのこだわるのを辞めた。といった具合です。  
Illuminance distance (輝度差) と Chrominance distance (色差)の両方がなるべく反映されるよう処理します。

興味のある方は論文をどうぞ。(57ページあります)

## その他

## ガンマ変換の注意

ポイントだけ並べます

- リニア輝度は sRGB に比べて低輝度が潰れるので、8ビットのまま処理できない
	- ref) [https://qiita.com/yoya/items/dba7c40b31f832e9bc2a#ガンマ補正の注意点](https://qiita.com/yoya/items/dba7c40b31f832e9bc2a#%E3%82%AC%E3%83%B3%E3%83%9E%E8%A3%9C%E6%AD%A3%E3%81%AE%E6%B3%A8%E6%84%8F%E7%82%B9)
- ガンマ変換は浮動小数点の pow 関数を使うので結構重たい
- sRGB ガンマを 2.2 ガンマで近似する事があるが、低輝度の値が結構違う。
	- ref) [https://qiita.com/yoya/items/122b93970c190068c752#sRGB のガンマ補正](https://qiita.com/yoya/items/122b93970c190068c752#srgb-%E3%81%AE%E3%82%AC%E3%83%B3%E3%83%9E%E8%A3%9C%E6%AD%A3)
- そもそもガンマ変換を気にせず雑に四則演算する処理系が多い。

## NTSC 係数(?)

BT.601 係数についてネットで検索すると NTSC coefficient(係数)の呼び方で、この式をよく見かけます。ただし日本語ばかりで英語の記事はほぼ見つかりません。

```text
Y = 0.298912*R + 0.586611*G + 0.114478*B
```

そもそも合計が 1.000001 で輝度100% をオーバーシュートしてますね。

NTSC 係数のおそらく元ネタであろうページはこちらです。

- [http://www.scarse.org:80/docs/color\_faq.html](http://www.scarse.org/docs/color_faq.html) ([web archive](https://web.archive.org/web/20120510052926/http://www.scarse.org:80/docs/color_faq.html))

```text
Finally, we have RGB -> CIE XYZccir601-1 (C illuminant):
    |X|   |0.606881 0.173505 0.200336|   |Red  |
    |Y| = |0.298912 0.586611 0.114478| * |Green|
    |Z|   |0.000000 0.066097 1.116157|   |Blue |
```

## 標準光源 C

ImageMagick で使っている Rec601 係数を紹介します。  
海外の記事だとこちらの係数をよく見かけます。

```text
* MagickCore/enhance.c (GrayscaleImage)
intensity=0.298839*red+0.586811*green+0.114350*blue;
```

こちらは標準光源 C での NTSC RGB Primary xyY の Y の値のようです。

参考までに2エントリ抜粋。

| Name | Gamma | Reference White | Red Primary (x) | (y) | (Y) | Green Primary (x) | (y) | (Y) | Blue Primary (x) | (y) | (Y) | Volume (ΔE3) | Lab Gamut Efficiency % | Coding Efficiency % |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| NTSC RGB | 2.2 | C | 0.6700 | 0.3300 | 0.298839 | 0.2100 | 0.7100 | 0.586811 | 0.1400 | 0.0800 | 0.114350 | 1,300,252 | 54.2 | 99.9 |
| sRGB | ≈2.2 | D65 | 0.6400 | 0.3300 | 0.212656 | 0.3000 | 0.6000 | 0.715158 | 0.1500 | 0.0600 | 0.072186 | 832,870 | 35.0 | 100.0 |

- [http://www.brucelindbloom.com/index.html?WorkingSpaceInfo.html](http://www.brucelindbloom.com/index.html?WorkingSpaceInfo.html)

恐らく NTSC の仕様から算出できる値だと思われます。

## Paul Haeberli Luminance

若干怪しい方法ですが、古いプログラムで利用される事もあるので、一応取り上げます。

| [http://graficaobscura.com/matrix/index.html](http://graficaobscura.com/matrix/index.html) |
| --- |
| Where rwgt is 0.3086, gwgt is 0.6094, and bwgt is 0.0820. This is the luminance vector. Notice here that we do not use the standard NTSC weights of 0.299, 0.587, and 0.114. The NTSC weights are only applicable to RGB colors in a gamma 2.2 color space. For linear RGB colors the values above are better. |

NTSC の重み付けはガンマ 2.2 に合わせたもので、リニア RGB には以下の計算の方が良いと主張しています。

```text
Y = 0.3086*R + 0.6094*G + 0.0820*B
```

BT.601, BT.709 の仕様書ではガンマ補正済みの R,G,B を元に Y,Cb,Cr に変換しますが、運用がそうなっていても、ガンマの非線形に合わせて係数を変えたとまでは記載されていません。(見落としてたらゴメンなさい)

そして、以下の掲示板を読むと、ちょっと怪しく見えてきます。

| [https://dsp.stackexchange.com/questions/27599/how-is-the-luminance-vector-calculated-for-these-linear-matrix-transforms](https://dsp.stackexchange.com/questions/27599/how-is-the-luminance-vector-calculated-for-these-linear-matrix-transforms) |
| --- |
| Those values appear to be approximations of 79, 156, and 21 all divided by 256. Paul Haeberli gave those integers already in code dated 1988 and posted in 1990 to the comp.graphics Usenet newsgroup, again without explanation or references for the numbers. Ask him? – Olli Niemitalo Dec |

1990年が初出のようですが、その根拠は示されていないようです。

## 蛇足

## GSDF (Grayscale Standard Display Function)

グレースケール化ではないので記事のスコープ外ですが、折角なのでうんちく。

レントゲン写真等、医療用途にてグレースケールは多用されますが、通常のモニタ表示ではモニタごとに表示が違う、そもそもアナログ写真と見た目が違う等で誤診を誘発しやすい問題があり、補正して特定のトーンカーブに合わせる規格があります。

詳しくはこちらを参照して下さい。

| 医用画像診断用モニターに求められるグレースケール表示とは |
| --- |
| [![JND.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/98e4a521-0cad-ea3b-a34b-0619d29c3209.jpeg)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F98e4a521-0cad-ea3b-a34b-0619d29c3209.jpeg?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=ef3f3bc2a4d2c0b719d7fa73d57b02be) [![JND-luminant.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/8c44b71d-016b-0549-efde-aed3f8379d89.jpeg)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F8c44b71d-016b-0549-efde-aed3f8379d89.jpeg?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=15de1e616e25d6a71cce5972cdfed185) |
| [https://www.eizo.co.jp/products/tech/files/2004/wp\_jp\_04\_001\_grayscale.pdf](https://www.eizo.co.jp/products/tech/files/2004/wp_jp_04_001_grayscale.pdf) |

| 医⽤画像表⽰⽤モニタの精度管理 |
| --- |
| [![Gamma-GSDF.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/a7a60010-ffbc-dcec-0e0b-a22f293efd28.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2Fa7a60010-ffbc-dcec-0e0b-a22f293efd28.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=c3f8707fe1f12f1bb986128faafa5b42) |
| [http://www.kanrigakkai.jp/img/housyasen/27-02.pdf](http://www.kanrigakkai.jp/img/housyasen/27-02.pdf) |

その特定のトーンカーブですが、物理輝度をどのように数値化するのか(輝度の量子化)はとても重要で、例えば sRGB のような単純なガンマ補正は輝度レベルによって階調の見易さがだいぶ異なるのでバンディングが起こりやすく階調特性的に不味いです。具体的には 10 と 11 を並べた場合と、100 と 101 を並べた時とで違いが片方だけ分かるというのは良くないので、DICOM のグレースケールは全輝度に渡って均等に違いが分かるように定義されます。

## 最後に

はじめに思いつく RGB 単純平均は悪手で、CIE XYZ が良い方法。という結論で大体合ってますが、実際にその辺のモニタで試すと BT.601 のガンマ補正解除版も良かったりするので、自分は BT.601 を使う事もあります。  
幾つか心当たりがあります。

- 一般にRGB規格は標準光源 C 、D65 が基本だけど、一般の人のモニタは色温度を高めに設定するので、赤が暗くなりがちで BT.601 で赤の比重が高いので相殺分があるかも
- XYZ といえば CIE1932 だけど被験者は17人でかつ人種の偏り(瞳の色が違うし住環境による文化の違いとか)もあるはずで、物差しとして絶対視するのは良いけど、その物差し自体が実際の利用状況に合うかは別の話。

赤を頑張れば、緑が犠牲になるといったトレードオフもあるので、結局、サンプルを作って実際に評価するのが良いでしょう。

あと、こちらに画像ファイルを放り込むと、列挙した方式を全部まとめて変換します。参考にして下さい。(注: 高度な方法は含まれません)

- [http://app.awm.jp/image.js/grayscale.html](http://app.awm.jp/image.js/grayscale.html)

自分の眼で確認すると色々と分かる事もあるかもしれません。なお、linear チェックボックスを on にすると、ガンマ補正を考慮して変換します。

| [![スクリーンショット 2019-06-20 1.43.05.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/142378cb-f80d-6b91-2fdb-9e61e2ca8320.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F142378cb-f80d-6b91-2fdb-9e61e2ca8320.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=a38feca2efab44d2634888331b01ba26) |
| --- |
| [![スクリーンショット 2019-06-20 1.41.50.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1798/1b8575c1-f9e6-43d8-d62e-8df00e566b25.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F1798%2F1b8575c1-f9e6-43d8-d62e-8df00e566b25.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=5a666a6afabcf6ac4072ad4814f53356) |

以上です。

## 参考

- XYZ色空間に迫る
	- [https://qiita.com/Ushio/items/203f16ad1e23fd42231c](https://qiita.com/Ushio/items/203f16ad1e23fd42231c)
	- [https://qiita.com/Ushio/items/7a5d80612796c4bcfca6](https://qiita.com/Ushio/items/7a5d80612796c4bcfca6)
- ITU-R Rec BT.601
	- [https://www.itu.int/rec/R-REC-BT.601/en](https://www.itu.int/rec/R-REC-BT.601/en)
- 標準テレビジョン放送(デジタル放送を除く。)に関する送信の標準方式
	- [http://www.tele.soumu.go.jp/horei/reiki\_honbun/a72ab21051.html](http://www.tele.soumu.go.jp/horei/reiki_honbun/a72ab21051.html)
- ITU-R Rec BT.709
	- [https://www.itu.int/rec/R-REC-BT.709/en](https://www.itu.int/rec/R-REC-BT.709/en)
- 標準テレビジョン放送等のうちデジタル放送に関する送信の標準方式
	- [http://www.tele.soumu.go.jp/horei/reiki\_honbun/72ab2104001.html](http://www.tele.soumu.go.jp/horei/reiki_honbun/72ab2104001.html)
- Contrast Preserving Decolorization
	- [http://www.cse.cuhk.edu.hk/~leojia/projects/color2gray/](http://www.cse.cuhk.edu.hk/~leojia/projects/color2gray/)
- Salience-Preserving Color Removal
	- [http://users.cs.northwestern.edu/~ago820/color2gray/](http://users.cs.northwestern.edu/~ago820/color2gray/)
- RGB Working Space Information
	- [http://www.brucelindbloom.com/index.html?WorkingSpaceInfo.html](http://www.brucelindbloom.com/index.html?WorkingSpaceInfo.html)
- 医用画像診断用モニターに求められるグレースケール表示とは
	- [https://www.eizo.co.jp/products/tech/files/2004/wp\_jp\_04\_001\_grayscale.pdf](https://www.eizo.co.jp/products/tech/files/2004/wp_jp_04_001_grayscale.pdf)
- 医⽤画像表⽰⽤モニタの精度管理
	- [http://www.kanrigakkai.jp/housyasen/shiryou/img/27-02.pdf](http://www.kanrigakkai.jp/housyasen/shiryou/img/27-02.pdf)
- 「RAW現像の教科書」初版第4刷 秀和システム
- 「Photoshop 10年使える逆引き手帖」初版第1刷 SB Creative

[14](https://qiita.com/yoya/items/#comments)

コメント一覧へ移動

X（Twitter）でシェアする

Facebookでシェアする

はてなブックマークに追加する

新規登録して、もっと便利にQiitaを使ってみよう

1. あなたにマッチした記事をお届けします
2. 便利な情報をあとで効率的に読み返せます
3. ダークテーマを利用できます
[ログインすると使える機能について](https://help.qiita.com/ja/articles/qiita-login-user)

[新規登録](https://qiita.com/signup?callback_action=login_or_signup&redirect_to=%2Fyoya%2Fitems%2F96c36b069e74398796f3&realm=qiita) [ログイン](https://qiita.com/login?callback_action=login_or_signup&redirect_to=%2Fyoya%2Fitems%2F96c36b069e74398796f3&realm=qiita)

[809](https://qiita.com/yoya/items/96c36b069e74398796f3/likers)

いいねしたユーザー一覧へ移動

599