きっかけ
--
https://x.com/cametek/status/1952871765983760514
>/((今川|大[判丸砲]|[回廻]転|二重|(甘?太[鼓郎閤幸])|(自慢|(じ|志゛)まん)|黄金|あ[ずづ]ま)(焼き?|やき|まんじゅう|饅頭)|(御座候|ござそうろう)|あじまん|おやき|ベイクドモチョモ?チョ)/を、頂きたいと思います

こんなユーモアが欲しかった
 https://regexper.com/ で正規表現のパターンを可視化するとこうなるらしい
(私の地元は今川焼でした)
![](_ATTACHMENT/image.png)


前準備
--
まずは遊ぶためのファイルを作ります
```bash
touch {a_01.txt,a_03.txt,a_0.txt,a_100.txt,a_10.txt,a_20.txt,a_3000.txt,a_34.txt,a_3.txt,a.txt,b_3.txt,c.txt}
```

簡単なglobと正規表現の説明
--
まず正規表現とglob(ワイルドカード)の違いについて。
そもそもどっちも正規表現だと思ってました

#### glob
glob = 「ワイルドカード+マッチさせたい文字列名」で構成されるパターン
最も身近なワイルドカードは多分`*`で、例えば`*.txt`は0文字以上の任意ファイル名のテキストファイルにマッチします
数が少ないので全部載せますが、よく使うのは最初の二つぐらいだと思います

| ワイルドカード | 定義                     |
| ------- | ---------------------- |
| `*`     | 0文字以上の任意の文字列にマッチ       |
| `?`     | 任意の1文字にマッチ             |
| `[abc]` | カッコ内に指定されたいずれかの文字列にマッチ |
| `[a-z]` | カッコ内に指定された範囲の1文字とマッチ   |

|         |                            |                                                  |
| ------- | -------------------------- | ------------------------------------------------ |
| `*`     | 任意の数の任意の文字(文字なしを含む)に一致します。 | `*.txt`は、`test.txt`などのファイルに一致します                 |
| `?`     | 任意の1文字を検索します。              | `?.txt`は、`a.txt`や`b.txt`などのファイルに一致します            |
| `[abc]` | カッコ内に指定されたいずれかの文字に一致します。   | `[abc].txt`は、ファイル`a.txt`、`b.txt`および`c.txt`に一致します |
| `[a-z]` | カッコ内に指定された範囲の1文字と一致します。    | `[a-d].txt`は、`a.txt`や`d.txt`などのファイルに一致します        |
また、環境によっては`**`再帰的にすべてのディレクトリをたどるワイルドカードになるそうです
例えば`zsh`では`ls **/*.txt`でカレントディレクトリ以下のすべての`.txt`を持ってこれるらしい
`find`では`-name`内で使用します
```bash
find ./ '*.txt'
```

#### 正規表現
言葉の定義はご存知の通りです。クイズで参照できた方が良さそうなので、よく使いそう(使いたい)のをまとめてもらっています。LLMさまに


文字など関連

| パターン   | 意味                   | 例                       |
| ------ | -------------------- | ----------------------- |
| .      | 任意の1文字（改行以外）         | a.c → abc, axc          |
| \d     | 数字（[0-9] と同じ）        | \d\d → 2桁の数字            |
| \w     | 英数字と _（[A-Za-z0-9_]） | \w+ → 単語っぽい文字列          |
| \s     | 空白類（スペース, タブ, 改行など）  | \s+ → 空白1つ以上            |
| [abc]  | a または b または c        | gr[ae]y → gray または grey |
| [^abc] | a,b,c 以外の1文字         | [^0-9] → 非数字            |


繰り返し

|パターン|意味|例|
|---|---|---|
|*|直前の0回以上の繰り返し|ba* → b, ba, baaa|
|+|直前の1回以上の繰り返し|ba+ → ba, baaa|
|?|直前の0回または1回|colou?r → color, colour|
|{n}|ちょうど n 回|\d{4} → 4桁の数字|
|{n,}|n 回以上|\d{2,} → 2桁以上の数字|
|{n,m}|n〜m回の繰り返し|\d{2,4} → 2〜4桁の数字|

位置指定

| パターン | 意味     | 例                                    |
| ---- | ------ | ------------------------------------ |
| ^    | 行頭     | ^Hello → Hello で始まる行                 |
| $    | 行末     | world$ → world で終わる行                 |
| \b   | 単語境界   | \bcat\b → cat だけに一致（concatenate はNG） |
| \B   | 単語境界以外 | \Bcat → concatenate の cat            |

グループ化

|パターン|意味|例|
|---|---|---|
|(abc)|グループ化|(ha)+ → ha, hahaha|
|\||OR|foo\|bar → foo または bar|


`find`では`-regex`を使用します
```bash
find ./ -regex '[a-z].txt'
```

クイズ
--
確認
```bash
ls


```

問題①
```bash
find ./ -name '?.txt'
```
